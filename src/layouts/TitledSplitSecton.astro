---
import TextListCheck from "./TextListCheck.astro";
import GridImageText from "./GridImageText.astro";
import type { Item, SvgSource } from "../types/types";
import { marked } from "marked";
import Border from "./Border.astro";
import { undefined } from "astro:schema";

interface Props {
    title?: string;
    subTitle?: string;
    titleColor?: string;
    subTitleColor?: string;
    items?: Item[];

    imageClass: string;
    textClass: string;

    shadowColor?: string;
    maxWidth?: string;
    iconColor?: string;
    svg?: SvgSource;

    checkIcon?: boolean;
    border?: boolean;
}

const {
    title,
    subTitle,
    titleColor,
    subTitleColor,
    items,

    imageClass,
    textClass,

    shadowColor,
    maxWidth,
    iconColor,

    checkIcon,
    border,
} = Astro.props;
---

<div class={`${maxWidth ? `max-w-${maxWidth}` : ""} mx-auto `}>
    <div class="title-field max-w-custom-standard mx-auto mb-titleField">
        <div
            class={`_title text-center ${titleColor ? titleColor : ""}`}
            set:html={marked(title ?? "")}
        />
        <div
            class={`_subTitle text-center ${subTitleColor ? subTitleColor : "text-custom-grey-400"} `}
            set:html={marked(subTitle ?? "")}
        />
    </div>

    {
        border ? (
            <Border>
                <GridImageText
                    titleColor={titleColor}
                    subTitleColor={subTitleColor}
                    imageClass={imageClass}
                    textClass={textClass}
                    items={items}
                    shadowColor={shadowColor}
                    iconColor={iconColor}
                    checkIcon={checkIcon}
                >
                    <slot />
                </GridImageText>
            </Border>
        ) : (
            <GridImageText
                titleColor={titleColor}
                subTitleColor={subTitleColor}
                imageClass={imageClass}
                textClass={textClass}
                items={items}
                shadowColor={shadowColor}
                iconColor={iconColor}
                checkIcon={checkIcon}
            >
                <slot />
            </GridImageText>
        )
    }
</div>
